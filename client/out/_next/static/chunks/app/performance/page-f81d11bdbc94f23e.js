(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[367],{3317:function(e,a,r){Promise.resolve().then(r.bind(r,5850))},5850:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return PerformanceCalculator}});var n,t=r(7437),s=r(2265),l=r(4559),i=r.n(l),d=r(5086),o=r(2601);function ensureNumber(e){if("string"==typeof e){let a=Number(e);return isNaN(a)?0:a}return"number"==typeof e?e:0}async function calculatePerformance(e){try{let a=o.env.NEXT_PUBLIC_BASE_PATH||"",r=await fetch("".concat(a,"/api/performance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({departure:{airport:String(e.departure.airport||"").toUpperCase(),elevation:ensureNumber(e.departure.elevation),runway:String(e.departure.runway||""),surface:"G"===e.departure.surface?"G":"B",toda:Math.max(0,ensureNumber(e.departure.toda)),lda:Math.max(0,ensureNumber(e.departure.lda))},slope:{value:Math.max(-5,Math.min(5,ensureNumber(e.slope.value))),direction:"D"===e.slope.direction?"D":"U"},qnh:Math.max(900,Math.min(1100,ensureNumber(e.qnh))),temperature:Math.max(-30,Math.min(50,ensureNumber(e.temperature))),wind:{direction:Math.max(0,Math.min(360,ensureNumber(e.wind.direction))),speed:Math.max(0,Math.min(99,ensureNumber(e.wind.speed))),runwayHeading:Math.max(0,Math.min(360,ensureNumber(e.wind.runwayHeading)))},part:135===e.part?135:61})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to calculate performance")}let n=await r.json();return n}catch(e){throw console.error("Error calculating performance:",e),e}}var c=r(221),u=r(7461),m=r(3089),p=r(1735),h=r(5744),x=r(2210),f=r(6989),j=r(9790),g=r(4356),v=r(3763),N=r(5400),w=r(4977),C=r(5184),b=r(5606),y="Radio",[_,F]=(0,f.b)(y),[P,k]=_(y),S=s.forwardRef((e,a)=>{let{__scopeRadio:r,name:n,checked:l=!1,required:i,disabled:d,value:o="on",onCheck:c,form:u,...m}=e,[p,f]=s.useState(null),g=(0,x.e)(a,e=>f(e)),v=s.useRef(!1),N=!p||u||!!p.closest("form");return(0,t.jsxs)(P,{scope:r,checked:l,disabled:d,children:[(0,t.jsx)(j.WV.button,{type:"button",role:"radio","aria-checked":l,"data-state":getState(l),"data-disabled":d?"":void 0,disabled:d,value:o,...m,ref:g,onClick:(0,h.M)(e.onClick,e=>{l||c?.(),N&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),N&&(0,t.jsx)(BubbleInput,{control:p,bubbles:!v.current,name:n,value:o,checked:l,required:i,disabled:d,form:u,style:{transform:"translateX(-100%)"}})]})});S.displayName=y;var D="RadioIndicator",V=s.forwardRef((e,a)=>{let{__scopeRadio:r,forceMount:n,...s}=e,l=k(D,r);return(0,t.jsx)(b.z,{present:n||l.checked,children:(0,t.jsx)(j.WV.span,{"data-state":getState(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:a})})});V.displayName=D;var BubbleInput=e=>{let{control:a,checked:r,bubbles:n=!0,...l}=e,i=s.useRef(null),d=(0,C.D)(r),o=(0,w.t)(a);return s.useEffect(()=>{let e=i.current,a=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(a,"checked"),s=t.set;if(d!==r&&s){let a=new Event("click",{bubbles:n});s.call(e,r),e.dispatchEvent(a)}},[d,r,n]),(0,t.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:i,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function getState(e){return e?"checked":"unchecked"}var R=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],E="RadioGroup",[T,A]=(0,f.b)(E,[g.Pc,F]),H=(0,g.Pc)(),I=F(),[L,O]=T(E),W=s.forwardRef((e,a)=>{let{__scopeRadioGroup:r,name:n,defaultValue:s,value:l,required:i=!1,disabled:d=!1,orientation:o,dir:c,loop:u=!0,onValueChange:m,...p}=e,h=H(r),x=(0,N.gm)(c),[f,w]=(0,v.T)({prop:l,defaultProp:s,onChange:m});return(0,t.jsx)(L,{scope:r,name:n,required:i,disabled:d,value:f,onValueChange:w,children:(0,t.jsx)(g.fC,{asChild:!0,...h,orientation:o,dir:x,loop:u,children:(0,t.jsx)(j.WV.div,{role:"radiogroup","aria-required":i,"aria-orientation":o,"data-disabled":d?"":void 0,dir:x,...p,ref:a})})})});W.displayName=E;var B="RadioGroupItem",M=s.forwardRef((e,a)=>{let{__scopeRadioGroup:r,disabled:n,...l}=e,i=O(B,r),d=i.disabled||n,o=H(r),c=I(r),u=s.useRef(null),m=(0,x.e)(a,u),p=i.value===l.value,f=s.useRef(!1);return s.useEffect(()=>{let handleKeyDown=e=>{R.includes(e.key)&&(f.current=!0)},handleKeyUp=()=>f.current=!1;return document.addEventListener("keydown",handleKeyDown),document.addEventListener("keyup",handleKeyUp),()=>{document.removeEventListener("keydown",handleKeyDown),document.removeEventListener("keyup",handleKeyUp)}},[]),(0,t.jsx)(g.ck,{asChild:!0,...o,focusable:!d,active:p,children:(0,t.jsx)(S,{disabled:d,required:i.required,checked:p,...c,...l,name:i.name,ref:m,onCheck:()=>i.onValueChange(l.value),onKeyDown:(0,h.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,h.M)(l.onFocus,()=>{f.current&&u.current?.click()})})})});M.displayName=B;var Z=s.forwardRef((e,a)=>{let{__scopeRadioGroup:r,...n}=e,s=I(r);return(0,t.jsx)(V,{...s,...n,ref:a})});Z.displayName="RadioGroupIndicator";var q=r(5531);let U=(0,q.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var G=r(345);let Q=s.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,t.jsx)(W,{className:(0,G.cn)("grid gap-2",r),...n,ref:a})});Q.displayName=W.displayName;let X=s.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,t.jsx)(M,{ref:a,className:(0,G.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),...n,children:(0,t.jsx)(Z,{className:"flex items-center justify-center",children:(0,t.jsx)(U,{className:"h-3.5 w-3.5 fill-primary"})})})});X.displayName=M.displayName;var z=r(6429),K=r(9950);let Y=(0,q.Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var J=r(4631),$=r(6061);let ee=(0,$.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:a,variant:r,...n}=e;return(0,t.jsx)("div",{className:(0,G.cn)(ee({variant:r}),a),...n})}var ea=r(3995),er=(r(2730),r(9249)),en="HoverCard",[et,es]=(0,f.b)(en,[ea.D7]),el=(0,ea.D7)(),[ei,ed]=et(en),HoverCard=e=>{let{__scopeHoverCard:a,children:r,open:n,defaultOpen:l,onOpenChange:i,openDelay:d=700,closeDelay:o=300}=e,c=el(a),u=s.useRef(0),m=s.useRef(0),p=s.useRef(!1),h=s.useRef(!1),[x=!1,f]=(0,v.T)({prop:n,defaultProp:l,onChange:i}),j=s.useCallback(()=>{clearTimeout(m.current),u.current=window.setTimeout(()=>f(!0),d)},[d,f]),g=s.useCallback(()=>{clearTimeout(u.current),p.current||h.current||(m.current=window.setTimeout(()=>f(!1),o))},[o,f]),N=s.useCallback(()=>f(!1),[f]);return s.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(m.current)},[]),(0,t.jsx)(ei,{scope:a,open:x,onOpenChange:f,onOpen:j,onClose:g,onDismiss:N,hasSelectionRef:p,isPointerDownOnContentRef:h,children:(0,t.jsx)(ea.fC,{...c,children:r})})};HoverCard.displayName=en;var eo="HoverCardTrigger",ec=s.forwardRef((e,a)=>{let{__scopeHoverCard:r,...n}=e,s=ed(eo,r),l=el(r);return(0,t.jsx)(ea.ee,{asChild:!0,...l,children:(0,t.jsx)(j.WV.a,{"data-state":s.open?"open":"closed",...n,ref:a,onPointerEnter:(0,h.M)(e.onPointerEnter,excludeTouch(s.onOpen)),onPointerLeave:(0,h.M)(e.onPointerLeave,excludeTouch(s.onClose)),onFocus:(0,h.M)(e.onFocus,s.onOpen),onBlur:(0,h.M)(e.onBlur,s.onClose),onTouchStart:(0,h.M)(e.onTouchStart,e=>e.preventDefault())})})});ec.displayName=eo;var[eu,em]=et("HoverCardPortal",{forceMount:void 0}),ep="HoverCardContent",eh=s.forwardRef((e,a)=>{let r=em(ep,e.__scopeHoverCard),{forceMount:n=r.forceMount,...s}=e,l=ed(ep,e.__scopeHoverCard);return(0,t.jsx)(b.z,{present:n||l.open,children:(0,t.jsx)(ex,{"data-state":l.open?"open":"closed",...s,onPointerEnter:(0,h.M)(e.onPointerEnter,excludeTouch(l.onOpen)),onPointerLeave:(0,h.M)(e.onPointerLeave,excludeTouch(l.onClose)),ref:a})})});eh.displayName=ep;var ex=s.forwardRef((e,a)=>{let{__scopeHoverCard:r,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:d,onInteractOutside:o,...c}=e,u=ed(ep,r),m=el(r),p=s.useRef(null),f=(0,x.e)(a,p),[j,g]=s.useState(!1);return s.useEffect(()=>{if(j){let e=document.body;return n=e.style.userSelect||e.style.webkitUserSelect,e.style.userSelect="none",e.style.webkitUserSelect="none",()=>{e.style.userSelect=n,e.style.webkitUserSelect=n}}},[j]),s.useEffect(()=>{if(p.current){let handlePointerUp=()=>{g(!1),u.isPointerDownOnContentRef.current=!1,setTimeout(()=>{let e=document.getSelection()?.toString()!=="";e&&(u.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",handlePointerUp),()=>{document.removeEventListener("pointerup",handlePointerUp),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!1}}},[u.isPointerDownOnContentRef,u.hasSelectionRef]),s.useEffect(()=>{if(p.current){let e=function(e){let a=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)a.push(r.currentNode);return a}(p.current);e.forEach(e=>e.setAttribute("tabindex","-1"))}}),(0,t.jsx)(er.XB,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:(0,h.M)(d,e=>{e.preventDefault()}),onDismiss:u.onDismiss,children:(0,t.jsx)(ea.VY,{...m,...c,onPointerDown:(0,h.M)(c.onPointerDown,e=>{e.currentTarget.contains(e.target)&&g(!0),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!0}),ref:f,style:{...c.style,userSelect:j?"text":void 0,WebkitUserSelect:j?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})});function excludeTouch(e){return a=>"touch"===a.pointerType?void 0:e()}s.forwardRef((e,a)=>{let{__scopeHoverCard:r,...n}=e,s=el(r);return(0,t.jsx)(ea.Eh,{...s,...n,ref:a})}).displayName="HoverCardArrow";let ef=s.forwardRef((e,a)=>{let{className:r,align:n="center",sideOffset:s=4,...l}=e;return(0,t.jsx)(eh,{ref:a,align:n,sideOffset:s,className:(0,G.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})});ef.displayName=eh.displayName;var ej=r(6582);let eg=(0,q.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function FormField(e){let{label:a,id:r,value:n,onChange:s,placeholder:l,type:i="text",min:d,max:o,step:c,units:u,error:m,tooltip:p,required:h}=e;return(0,t.jsxs)("div",{className:"space-y-2 group",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(z._,{htmlFor:r,className:"".concat(m?"text-destructive":""," transition-colors duration-200 group-hover:text-foreground/90"),children:[a,h&&(0,t.jsx)("span",{className:"text-destructive ml-1",children:"*"})]}),p&&(0,t.jsxs)(HoverCard,{openDelay:200,children:[(0,t.jsx)(ec,{asChild:!0,children:(0,t.jsx)(eg,{className:"h-4 w-4 text-muted-foreground cursor-help hover:text-blue-500 transition-colors"})}),(0,t.jsx)(ef,{className:"w-80 text-sm shadow-lg border-slate-200 backdrop-blur-sm",side:"top",align:"start",children:p})]})]}),u&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground font-medium px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-800",children:u})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(ej.I,{id:r,type:i,value:n,onChange:e=>{let a="number"===i?e.target.valueAsNumber:e.target.value;s(a)},placeholder:l,min:d,max:o,step:c,className:"\n            ".concat("number"===i?"font-mono tabular-nums text-right pr-3":"","\n            ").concat(m?"border-destructive":"","\n            transition-all duration-200\n            focus-visible:ring-1 focus-visible:ring-ring focus-visible:shadow-sm\n            hover:border-input\n            group-hover:border-slate-300 dark:group-hover:border-slate-700\n          ")}),m&&(0,t.jsx)("div",{className:"absolute -bottom-5 left-0 text-xs text-destructive animate-in fade-in-50 slide-in-from-top-1 font-medium",children:m})]})]})}var ev=r(609),eN=r(5549);let ErrorBoundary=class ErrorBoundary extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)(K.bZ,{variant:"destructive",children:[(0,t.jsx)(J.Z,{className:"h-4 w-4"}),(0,t.jsx)(K.Cd,{children:"Calculation Error"}),(0,t.jsxs)(K.X,{className:"mt-2",children:[(0,t.jsx)("p",{className:"mb-4",children:this.state.error?String(this.state.error.message||"An unexpected error occurred during calculation."):"An unexpected error occurred."}),(0,t.jsx)(m.z,{onClick:this.handleReset,variant:"outline",children:"Reset Calculator"})]})]})}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1,error:null},this.handleReset=()=>{this.setState({hasError:!1,error:null})}}};var ew=r(6988);function PerformanceCalculator(){var e,a,r,n,l,o,h,x,f,j,g,v,N,w,C,b;let[y,_]=(0,s.useState)("takeoff"),[F,P]=(0,s.useState)({departure:{airport:"",elevation:"",runway:"",surface:"B",toda:"",lda:""},slope:{value:"",direction:"U"},qnh:"",temperature:"",wind:{direction:"",speed:"",runwayHeading:""},part:61}),[k,S]=(0,s.useState)({}),{isCalculating:D,results:V,error:R,lastAttemptedOperation:E,calculatePerformance:T,retryCalculation:A}=function(){let[e,a]=(0,s.useState)(!1),[r,n]=(0,s.useState)(null),[t,l]=(0,s.useState)(null),[i,d]=(0,s.useState)(null),[o,c]=(0,s.useState)(null),performCalculation=async e=>{try{a(!0),l(null);let r=[{path:"departure.elevation",label:"Elevation"},{path:"qnh",label:"QNH"},{path:"temperature",label:"Temperature"},{path:"wind.direction",label:"Wind Direction"},{path:"wind.speed",label:"Wind Speed"},{path:"wind.runwayHeading",label:"Runway Heading"}].filter(a=>{let r=a.path.split("."),n=e;for(let e of r){if(null==n)return!0;n=n[e]}return""===n||null==n||isNaN(Number(n))});if(r.length>0)throw Error("Please enter valid numeric values for: ".concat(r.map(e=>e.label).join(", ")));c(e.departure.runway.includes("-landing")?"landing":"takeoff"),d(e);let t=await calculatePerformance(e);return n(t),t}catch(a){let e={message:a instanceof Error?a.message:"An error occurred during calculation",code:a instanceof Error?a.name:"UNKNOWN_ERROR",details:a instanceof Error?a.stack:void 0};throw l(e),e}finally{a(!1)}},retryCalculation=async()=>{if(!i){l({message:"No previous calculation to retry",code:"NO_PREVIOUS_CALCULATION"});return}return performCalculation(i)};return{isCalculating:e,results:r,error:t,lastAttemptedOperation:o,calculatePerformance:performCalculation,retryCalculation}}(),validateInputs=()=>{let e=(0,ew.MN)(F);"takeoff"!==y||F.departure.toda&&""!==F.departure.toda||e.push({field:"toda",message:"TODA is required for takeoff calculations"}),"landing"!==y||F.departure.lda&&""!==F.departure.lda||e.push({field:"lda",message:"LDA is required for landing calculations"});let a=(0,ew.wW)(e);return S(a),0===e.length},handleCalculate=async()=>{if(validateInputs())try{await T({...F,departure:{...F.departure,runway:"landing"===y?"".concat(F.departure.runway,"-landing"):F.departure.runway}})}catch(e){S({calculation:e instanceof Error?e.message:"Error calculating performance"})}},handleInputChange=(e,a)=>{let r=""===a?"":a;if(e.includes(".")){let[a,n]=e.split(".");"departure"===a?P({...F,departure:{...F.departure,[n]:r}}):"wind"===a?P({...F,wind:{...F.wind,[n]:r}}):"slope"===a&&P({...F,slope:{...F.slope,[n]:r}})}else P({...F,[e]:r});if(k[e]){let a={...k};delete a[e],S(a)}},formatCalculation=e=>{if(!e||""===e)return"0.00";let a=Number(e);return isNaN(a)?"0.00":a.toFixed(2)};return(0,t.jsx)(ErrorBoundary,{children:(0,t.jsxs)(d.WH,{title:"Performance Calculator",children:[(0,t.jsxs)(u.mQ,{value:y,onValueChange:e=>_(e),className:i().performanceContainer,children:[(0,t.jsx)("div",{className:i().tabsWrapper,children:(0,t.jsxs)(u.dr,{className:i().tabsList,children:[(0,t.jsx)(u.SP,{value:"takeoff",className:"takeoff"===y?i().coloredTabTrigger:i().inactiveTabTrigger,children:"Takeoff"}),(0,t.jsx)(u.SP,{value:"landing",className:"landing"===y?i().coloredTabTrigger:i().inactiveTabTrigger,children:"Landing"})]})}),(0,t.jsx)("div",{className:i().partSelection,children:(0,t.jsxs)(Q,{value:F.part.toString(),onValueChange:e=>handleInputChange("part",parseInt(e)),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(X,{value:"61",id:"part61"}),(0,t.jsx)(z._,{htmlFor:"part61",children:"Part 61"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(X,{value:"135",id:"part135"}),(0,t.jsx)(z._,{htmlFor:"part135",children:"Part 135"})]})]})}),(0,t.jsx)(u.nU,{value:"takeoff",children:(0,t.jsxs)("div",{className:i().inputSection,children:[(0,t.jsxs)(d.ZZ,{title:"Aircraft Parameters",description:(0,t.jsxs)("div",{className:i().badgeContainer,children:[(0,t.jsxs)(Badge,{variant:61===F.part?"default":"secondary",children:["Part ",F.part]}),(0,t.jsxs)(Badge,{variant:"outline",children:["B"===F.departure.surface?"Paved":"Grass"," Surface"]})]}),children:[(0,t.jsx)(FormField,{label:"Airport (ICAO)",id:"airport",value:F.departure.airport,onChange:e=>handleInputChange("departure.airport",String(e).toUpperCase()),placeholder:"Enter ICAO code",error:k.airport,tooltip:"Enter the 4-letter ICAO code for the departure airport"}),(0,t.jsx)(FormField,{label:"Elevation",id:"elevation",type:"number",value:F.departure.elevation,onChange:e=>handleInputChange("departure.elevation",e),placeholder:"Enter elevation",error:k.elevation,min:-1e3,max:15e3,units:"ft",tooltip:"Airport elevation in feet above mean sea level"}),(0,t.jsxs)("div",{className:"space-y-2.5",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Surface Type"}),(0,t.jsxs)(p.Ph,{value:F.departure.surface,onValueChange:e=>handleInputChange("departure.surface",e),children:[(0,t.jsx)(p.i4,{children:(0,t.jsx)(p.ki,{placeholder:"Select surface type"})}),(0,t.jsxs)(p.Bw,{children:[(0,t.jsx)(p.Ql,{value:"B",children:"Paved (B)"}),(0,t.jsx)(p.Ql,{value:"G",children:"Grass (G)"})]})]})]}),(0,t.jsx)(FormField,{label:"TODA",id:"toda",type:"number",value:F.departure.toda,onChange:e=>handleInputChange("departure.toda",e),placeholder:"Enter TODA",error:k.toda,min:0,units:"m",tooltip:"Take-off Distance Available in meters",required:!0}),(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(FormField,{label:"Slope",id:"slope",type:"number",value:F.slope.value,onChange:e=>handleInputChange("slope.value",e),placeholder:"Enter slope",error:k.slope,min:-5,max:5,step:.1,units:"%",tooltip:"Runway slope percentage (positive for uphill)"}),(0,t.jsxs)("div",{className:"space-y-2.5",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Slope Direction"}),(0,t.jsxs)(p.Ph,{value:F.slope.direction,onValueChange:e=>handleInputChange("slope.direction",e),children:[(0,t.jsx)(p.i4,{children:(0,t.jsx)(p.ki,{placeholder:"Select direction"})}),(0,t.jsxs)(p.Bw,{children:[(0,t.jsx)(p.Ql,{value:"U",children:"Uphill (U)"}),(0,t.jsx)(p.Ql,{value:"D",children:"Downhill (D)"})]})]})]})]})})]}),(0,t.jsxs)(d.ZZ,{title:"Runway Parameters",children:[(0,t.jsx)(FormField,{label:"Runway",id:"runway",value:F.departure.runway,onChange:e=>handleInputChange("departure.runway",e),placeholder:"Enter runway (e.g., 18)",error:k.runway,tooltip:"Runway designator (e.g., 18, 18L)"}),(0,t.jsx)(FormField,{label:"Runway Heading",id:"runwayHeading",type:"number",value:F.wind.runwayHeading,onChange:e=>handleInputChange("wind.runwayHeading",e),placeholder:"Enter heading",error:k.runwayHeading,min:0,max:360,units:"\xb0",tooltip:"True runway heading in degrees"})]}),(0,t.jsxs)(d.ZZ,{title:"Environmental Conditions",children:[(0,t.jsx)(FormField,{label:"QNH",id:"qnh",type:"number",value:F.qnh,onChange:e=>handleInputChange("qnh",e),placeholder:"Enter QNH",error:k.qnh,min:900,max:1100,units:"hPa",tooltip:"Current atmospheric pressure adjusted to sea level"}),(0,t.jsx)(FormField,{label:"Temperature",id:"temperature",type:"number",value:F.temperature,onChange:e=>handleInputChange("temperature",e),placeholder:"Enter temperature",error:k.temperature,min:-30,max:50,units:"\xb0C",tooltip:"Outside air temperature"}),(0,t.jsx)(FormField,{label:"Wind Direction",id:"windDirection",type:"number",value:F.wind.direction,onChange:e=>handleInputChange("wind.direction",e),placeholder:"Direction",error:k.windDirection,min:0,max:360,units:"\xb0",tooltip:"Wind direction in degrees true"}),(0,t.jsx)(FormField,{label:"Wind Speed",id:"windSpeed",type:"number",value:F.wind.speed,onChange:e=>handleInputChange("wind.speed",e),placeholder:"Speed",error:k.windSpeed,min:0,max:99,units:"kts",tooltip:"Wind speed in knots"})]}),V&&(0,t.jsxs)(K.bZ,{variant:(null===(e=V.takeoffPerformance)||void 0===e?void 0:e.isFeasible)?"default":"destructive",className:i().resultAlert,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(null===(a=V.takeoffPerformance)||void 0===a?void 0:a.isFeasible)?(0,t.jsx)(Y,{className:"h-5 w-5"}):(0,t.jsx)(J.Z,{className:"h-5 w-5"}),(0,t.jsx)(K.Cd,{children:(null===(r=V.takeoffPerformance)||void 0===r?void 0:r.isFeasible)?"Operation is Feasible":"Operation is Not Feasible"})]}),(0,t.jsxs)(K.X,{className:"mt-2",children:["Required distance: ",(0,t.jsxs)("span",{className:i().importantValue,children:[null===(n=V.takeoffPerformance)||void 0===n?void 0:n.finalTakeoffDistance.toFixed(2),"m"]}),(null===(l=V.takeoffPerformance)||void 0===l?void 0:l.isFeasible)?" < ":" > ","Available: ",(0,t.jsxs)("span",{className:i().importantValue,children:[null===(o=V.takeoffPerformance)||void 0===o?void 0:o.toda,"m"]})]})]}),(null==V?void 0:V.takeoffPerformance)&&(0,t.jsxs)(ev.Zb,{className:i().calculationCard,children:[(0,t.jsxs)(ev.Ol,{children:[(0,t.jsx)(ev.ll,{children:"Takeoff Performance Calculations"}),(0,t.jsx)(ev.SZ,{children:"Step-by-step calculation breakdown"})]}),(0,t.jsx)(ev.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:i().calculationSection,children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Pressure Altitude"}),(0,t.jsxs)("p",{className:i().calculationText,children:["(1013 - ",formatCalculation(F.qnh),") \xd7 30 = ",formatCalculation((1013-Number(F.qnh))*30)," ft + ",formatCalculation(F.departure.elevation)," ft = ",(0,t.jsxs)("span",{className:i().importantValue,children:[(null==V?void 0:V.pressureAltitude)?formatCalculation(V.pressureAltitude.result):"N/A"," ft"]})]})]}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Wind Components"}),(0,t.jsxs)("div",{className:i().windComponents,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Part 61:"}),(0,t.jsxs)("p",{className:"text-sm",children:["HW: ",(0,t.jsxs)("span",{className:i().windValue,children:[(null===(h=V.windCalculation.part61.headwind)||void 0===h?void 0:h.toFixed(2))||"0.00"," kts"]})]}),(0,t.jsxs)("p",{className:"text-sm",children:["TW: ",(0,t.jsxs)("span",{className:i().windValue,children:[(null===(x=V.windCalculation.part61.tailwind)||void 0===x?void 0:x.toFixed(2))||"0.00"," kts"]})]}),(0,t.jsxs)("p",{className:"text-sm",children:["XW: ",(0,t.jsxs)("span",{className:i().windValue,children:[V.windCalculation.part61.crosswind.toFixed(2)," kts"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Part 135 (-50% HW, +150% TW):"}),(0,t.jsxs)("p",{className:"text-sm",children:["HW: ",(0,t.jsxs)("span",{className:i().windValue,children:[(null===(f=V.windCalculation.part135.headwind)||void 0===f?void 0:f.toFixed(2))||"0.00"," kts"]})]}),(0,t.jsxs)("p",{className:"text-sm",children:["TW: ",(0,t.jsxs)("span",{className:i().windValue,children:[(null===(j=V.windCalculation.part135.tailwind)||void 0===j?void 0:j.toFixed(2))||"0.00"," kts"]})]}),(0,t.jsxs)("p",{className:"text-sm",children:["XW: ",(0,t.jsxs)("span",{className:i().windValue,children:[V.windCalculation.part135.crosswind.toFixed(2)," kts"]})]})]})]})]}),(0,t.jsx)(eN.Z,{}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Step 1: Base Distances"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("p",{className:"text-sm",children:["Ground Roll (A): ",(0,t.jsxs)("span",{className:i().windValue,children:[V.takeoffPerformance.groundRoll.toFixed(2),"m"]})]}),(0,t.jsxs)("p",{className:"text-sm",children:["50ft AGL Distance (B): ",(0,t.jsxs)("span",{className:i().windValue,children:[V.takeoffPerformance.takeoffDistance50ft.toFixed(2),"m"]})]})]})]}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Step 2: Wind Correction"}),(0,t.jsxs)("p",{className:"text-sm",children:[V.windCalculation.part61.headwind?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:i().windValue,children:[(61===F.part?V.windCalculation.part61.headwind||0:V.windCalculation.part135.headwind||0).toFixed(2)," kts"]})," \xd7 -5m = ",(0,t.jsxs)("span",{className:i().windValue,children:[(V.takeoffPerformance.windCorrectedDistance-V.takeoffPerformance.takeoffDistance50ft).toFixed(2),"m"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:i().windValue,children:[(61===F.part?V.windCalculation.part61.tailwind||0:V.windCalculation.part135.tailwind||0).toFixed(2)," kts"]})," \xd7 +15m = ",(0,t.jsxs)("span",{className:i().windValue,children:[(V.takeoffPerformance.windCorrectedDistance-V.takeoffPerformance.takeoffDistance50ft).toFixed(2),"m"]})]})," + ",(0,t.jsxs)("span",{className:i().windValue,children:[V.takeoffPerformance.takeoffDistance50ft.toFixed(2),"m"]})," = ",(0,t.jsxs)("span",{className:i().importantValue,children:[V.takeoffPerformance.windCorrectedDistance.toFixed(2),"m (C)"]})]})]}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Step 3: Surface Correction"}),"B"===F.departure.surface?(0,t.jsxs)("p",{className:"text-sm",children:["Ground Roll ",(0,t.jsxs)("span",{className:i().windValue,children:[V.takeoffPerformance.groundRoll.toFixed(2),"m"]})," \xd7 -10% =",(0,t.jsxs)("span",{className:i().windValue,children:[(-.1*V.takeoffPerformance.groundRoll).toFixed(2),"m"]})," + ",(0,t.jsxs)("span",{className:i().windValue,children:[V.takeoffPerformance.windCorrectedDistance.toFixed(2),"m"]})," =",(0,t.jsxs)("span",{className:i().importantValue,children:[V.takeoffPerformance.surfaceCorrectedDistance.toFixed(2),"m (D)"]})]}):(0,t.jsx)("p",{className:"text-sm",children:"No correction required for grass surface"})]}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Step 4: Slope Correction"}),(0,t.jsxs)("p",{className:"text-sm",children:["Ground Roll ",(0,t.jsxs)("span",{className:i().windValue,children:[V.takeoffPerformance.groundRoll.toFixed(2),"m"]})," \xd7 (",(0,t.jsx)("span",{className:i().windValue,children:Number(F.slope.value).toFixed(2)})," \xd7 ","U"===F.slope.direction?"+":"-","7%) =",(0,t.jsxs)("span",{className:i().windValue,children:[(V.takeoffPerformance.slopeCorrectedDistance-V.takeoffPerformance.surfaceCorrectedDistance).toFixed(2),"m"]})," +",(0,t.jsxs)("span",{className:i().windValue,children:[V.takeoffPerformance.surfaceCorrectedDistance.toFixed(2),"m"]})," = ",(0,t.jsxs)("span",{className:i().importantValue,children:[V.takeoffPerformance.slopeCorrectedDistance.toFixed(2),"m"]})]})]}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Step 5: Final Safety Factor"}),(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsxs)("span",{className:i().windValue,children:[V.takeoffPerformance.slopeCorrectedDistance.toFixed(2),"m"]})," \xd7 ",(F.part,"1.10")," =",(0,t.jsxs)("span",{className:i().importantValue,children:[V.takeoffPerformance.finalTakeoffDistance.toFixed(2),"m TODR"]})]})]}),(0,t.jsx)(eN.Z,{}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"TODA Check"}),(0,t.jsxs)("p",{className:"text-sm",children:[Number(F.departure.toda)>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:i().importantValue,children:[formatCalculation(F.departure.toda),"m"]})," ",135===F.part?(0,t.jsxs)(t.Fragment,{children:["\xd7 0.85 = ",(0,t.jsxs)("span",{className:i().importantValue,children:[formatCalculation(.85*Number(F.departure.toda)),"m"]})]}):""]}):"N/A",(0,t.jsx)("span",{className:"font-medium mx-2",children:(null==V?void 0:null===(g=V.takeoffPerformance)||void 0===g?void 0:g.isFeasible)?" ≥ ":" < "}),(0,t.jsxs)("span",{className:i().importantValue,children:[(null==V?void 0:V.takeoffPerformance)?formatCalculation(V.takeoffPerformance.finalTakeoffDistance):"N/A","m Required"]})]})]})]})})]})]})}),(0,t.jsx)(u.nU,{value:"landing",children:(0,t.jsxs)("div",{className:i().inputSection,children:[(0,t.jsxs)(d.ZZ,{title:"Aircraft Parameters",description:(0,t.jsxs)("div",{className:i().badgeContainer,children:[(0,t.jsxs)(Badge,{variant:61===F.part?"default":"secondary",children:["Part ",F.part]}),(0,t.jsxs)(Badge,{variant:"outline",children:["B"===F.departure.surface?"Paved":"Grass"," Surface"]})]}),children:[(0,t.jsx)(FormField,{label:"Airport (ICAO)",id:"airport",value:F.departure.airport,onChange:e=>handleInputChange("departure.airport",String(e).toUpperCase()),placeholder:"Enter ICAO code",error:k.airport,tooltip:"Enter the 4-letter ICAO code for the arrival airport"}),(0,t.jsx)(FormField,{label:"Elevation",id:"elevation",type:"number",value:F.departure.elevation,onChange:e=>handleInputChange("departure.elevation",e),placeholder:"Enter elevation",error:k.elevation,min:-1e3,max:15e3,units:"ft",tooltip:"Airport elevation in feet above mean sea level"}),(0,t.jsxs)("div",{className:"space-y-2.5",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Surface Type"}),(0,t.jsxs)(p.Ph,{value:F.departure.surface,onValueChange:e=>handleInputChange("departure.surface",e),children:[(0,t.jsx)(p.i4,{children:(0,t.jsx)(p.ki,{placeholder:"Select surface type"})}),(0,t.jsxs)(p.Bw,{children:[(0,t.jsx)(p.Ql,{value:"B",children:"Paved (B)"}),(0,t.jsx)(p.Ql,{value:"G",children:"Grass (G)"})]})]})]}),(0,t.jsx)(FormField,{label:"LDA",id:"lda",type:"number",value:F.departure.lda,onChange:e=>handleInputChange("departure.lda",e),placeholder:"Enter LDA",error:k.lda,min:0,units:"m",tooltip:"Landing Distance Available in meters",required:!0}),(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(FormField,{label:"Slope",id:"slope",type:"number",value:F.slope.value,onChange:e=>handleInputChange("slope.value",e),placeholder:"Enter slope",error:k.slope,min:-5,max:5,step:.1,units:"%",tooltip:"Runway slope percentage (positive for uphill)"}),(0,t.jsxs)("div",{className:"space-y-2.5",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Slope Direction"}),(0,t.jsxs)(p.Ph,{value:F.slope.direction,onValueChange:e=>handleInputChange("slope.direction",e),children:[(0,t.jsx)(p.i4,{children:(0,t.jsx)(p.ki,{placeholder:"Select direction"})}),(0,t.jsxs)(p.Bw,{children:[(0,t.jsx)(p.Ql,{value:"U",children:"Uphill (U)"}),(0,t.jsx)(p.Ql,{value:"D",children:"Downhill (D)"})]})]})]})]})})]}),(0,t.jsxs)(d.ZZ,{title:"Runway Parameters",children:[(0,t.jsx)(FormField,{label:"Runway",id:"runway",value:F.departure.runway,onChange:e=>handleInputChange("departure.runway",e),placeholder:"Enter runway (e.g., 18)",error:k.runway,tooltip:"Runway designator (e.g., 18, 18L)"}),(0,t.jsx)(FormField,{label:"Runway Heading",id:"runwayHeading",type:"number",value:F.wind.runwayHeading,onChange:e=>handleInputChange("wind.runwayHeading",e),placeholder:"Enter heading",error:k.runwayHeading,min:0,max:360,units:"\xb0",tooltip:"True runway heading in degrees"})]}),(0,t.jsxs)(d.ZZ,{title:"Environmental Conditions",children:[(0,t.jsx)(FormField,{label:"QNH",id:"qnh",type:"number",value:F.qnh,onChange:e=>handleInputChange("qnh",e),placeholder:"Enter QNH",error:k.qnh,min:900,max:1100,units:"hPa",tooltip:"Current atmospheric pressure adjusted to sea level"}),(0,t.jsx)(FormField,{label:"Temperature",id:"temperature",type:"number",value:F.temperature,onChange:e=>handleInputChange("temperature",e),placeholder:"Enter temperature",error:k.temperature,min:-30,max:50,units:"\xb0C",tooltip:"Outside air temperature"}),(0,t.jsx)(FormField,{label:"Wind Direction",id:"windDirection",type:"number",value:F.wind.direction,onChange:e=>handleInputChange("wind.direction",e),placeholder:"Direction",error:k.windDirection,min:0,max:360,units:"\xb0",tooltip:"Wind direction in degrees true"}),(0,t.jsx)(FormField,{label:"Wind Speed",id:"windSpeed",type:"number",value:F.wind.speed,onChange:e=>handleInputChange("wind.speed",e),placeholder:"Speed",error:k.windSpeed,min:0,max:99,units:"kts",tooltip:"Wind speed in knots"})]}),(null==V?void 0:V.landingPerformance)&&(0,t.jsxs)(K.bZ,{variant:V.landingPerformance.isFeasible?"default":"destructive",className:i().resultAlert,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[V.landingPerformance.isFeasible?(0,t.jsx)(Y,{className:"h-5 w-5"}):(0,t.jsx)(J.Z,{className:"h-5 w-5"}),(0,t.jsx)(K.Cd,{children:V.landingPerformance.isFeasible?"Landing Operation is Feasible":"Landing Operation is Not Feasible"})]}),(0,t.jsxs)(K.X,{className:"mt-2",children:["Required distance: ",(0,t.jsxs)("span",{className:i().importantValue,children:[V.landingPerformance.finalLandingDistance.toFixed(2),"m"]})," ",V.landingPerformance.isFeasible?"< ":"> ","Available LDA: ",(0,t.jsxs)("span",{className:i().importantValue,children:[V.landingPerformance.lda.toFixed(2),"m"]})]})]}),(null==V?void 0:V.landingPerformance)&&(0,t.jsxs)(ev.Zb,{className:i().calculationCard,children:[(0,t.jsxs)(ev.Ol,{children:[(0,t.jsx)(ev.ll,{children:"Landing Performance Calculations"}),(0,t.jsx)(ev.SZ,{children:"Step-by-step calculation breakdown"})]}),(0,t.jsx)(ev.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:i().calculationSection,children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Pressure Altitude"}),(0,t.jsxs)("p",{className:i().calculationText,children:["(1013 - ",formatCalculation(F.qnh),") \xd7 30 = ",formatCalculation((1013-Number(F.qnh))*30)," ft + ",formatCalculation(F.departure.elevation)," ft = ",(0,t.jsxs)("span",{className:i().importantValue,children:[(null==V?void 0:V.pressureAltitude)?formatCalculation(V.pressureAltitude.result):"N/A"," ft"]})]})]}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Wind Components"}),(0,t.jsxs)("div",{className:i().windComponents,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Part 61:"}),(0,t.jsxs)("p",{className:"text-sm",children:["HW: ",(0,t.jsxs)("span",{className:i().windValue,children:[(null===(v=V.windCalculation.part61.headwind)||void 0===v?void 0:v.toFixed(2))||"0.00"," kts"]})]}),(0,t.jsxs)("p",{className:"text-sm",children:["TW: ",(0,t.jsxs)("span",{className:i().windValue,children:[(null===(N=V.windCalculation.part61.tailwind)||void 0===N?void 0:N.toFixed(2))||"0.00"," kts"]})]}),(0,t.jsxs)("p",{className:"text-sm",children:["XW: ",(0,t.jsxs)("span",{className:i().windValue,children:[V.windCalculation.part61.crosswind.toFixed(2)," kts"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Part 135 (-50% HW, +150% TW):"}),(0,t.jsxs)("p",{className:"text-sm",children:["HW: ",(0,t.jsxs)("span",{className:i().windValue,children:[(null===(w=V.windCalculation.part135.headwind)||void 0===w?void 0:w.toFixed(2))||"0.00"," kts"]})]}),(0,t.jsxs)("p",{className:"text-sm",children:["TW: ",(0,t.jsxs)("span",{className:i().windValue,children:[(null===(C=V.windCalculation.part135.tailwind)||void 0===C?void 0:C.toFixed(2))||"0.00"," kts"]})]}),(0,t.jsxs)("p",{className:"text-sm",children:["XW: ",(0,t.jsxs)("span",{className:i().windValue,children:[V.windCalculation.part135.crosswind.toFixed(2)," kts"]})]})]})]})]}),(0,t.jsx)(eN.Z,{}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Step 1: Base Distances"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("p",{className:"text-sm",children:["Ground Roll (A): ",(0,t.jsxs)("span",{className:i().windValue,children:[V.landingPerformance.groundRoll.toFixed(2),"m"]})]}),(0,t.jsxs)("p",{className:"text-sm",children:["50ft AGL Distance (B): ",(0,t.jsxs)("span",{className:i().windValue,children:[V.landingPerformance.landingDistance50ft.toFixed(2),"m"]})]})]})]}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Step 2: Wind Correction"}),(0,t.jsxs)("p",{className:"text-sm",children:[V.windCalculation.part61.headwind?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:i().windValue,children:[(61===F.part?V.windCalculation.part61.headwind||0:V.windCalculation.part135.headwind||0).toFixed(2)," kts"]})," \xd7 -4m = ",(0,t.jsxs)("span",{className:i().windValue,children:[(V.landingPerformance.windCorrectedDistance-V.landingPerformance.landingDistance50ft).toFixed(2),"m"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:i().windValue,children:[(61===F.part?V.windCalculation.part61.tailwind||0:V.windCalculation.part135.tailwind||0).toFixed(2)," kts"]})," \xd7 +13m = ",(0,t.jsxs)("span",{className:i().windValue,children:[(V.landingPerformance.windCorrectedDistance-V.landingPerformance.landingDistance50ft).toFixed(2),"m"]})]})," + ",(0,t.jsxs)("span",{className:i().windValue,children:[V.landingPerformance.landingDistance50ft.toFixed(2),"m"]})," = ",(0,t.jsxs)("span",{className:i().importantValue,children:[V.landingPerformance.windCorrectedDistance.toFixed(2),"m (C)"]})]})]}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Step 3: Surface Correction"}),"B"===F.departure.surface?(0,t.jsxs)("p",{className:"text-sm",children:["Ground Roll ",(0,t.jsxs)("span",{className:i().windValue,children:[V.landingPerformance.groundRoll.toFixed(2),"m"]})," \xd7 -10% =",(0,t.jsxs)("span",{className:i().windValue,children:[(-.1*V.landingPerformance.groundRoll).toFixed(2),"m"]})," + ",(0,t.jsxs)("span",{className:i().windValue,children:[V.landingPerformance.windCorrectedDistance.toFixed(2),"m"]})," =",(0,t.jsxs)("span",{className:i().importantValue,children:[V.landingPerformance.surfaceCorrectedDistance.toFixed(2),"m (D)"]})]}):(0,t.jsx)("p",{className:"text-sm",children:"No correction required for grass surface"})]}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Step 4: Slope Correction"}),(0,t.jsxs)("p",{className:"text-sm",children:["Ground Roll ",(0,t.jsxs)("span",{className:i().windValue,children:[V.landingPerformance.groundRoll.toFixed(2),"m"]})," \xd7 (",(0,t.jsx)("span",{className:i().windValue,children:Number(F.slope.value).toFixed(2)})," \xd7 ","U"===F.slope.direction?"-":"+","3%) =",(0,t.jsxs)("span",{className:i().windValue,children:[(V.landingPerformance.slopeCorrectedDistance-V.landingPerformance.surfaceCorrectedDistance).toFixed(2),"m"]})," +",(0,t.jsxs)("span",{className:i().windValue,children:[V.landingPerformance.surfaceCorrectedDistance.toFixed(2),"m"]})," = ",(0,t.jsxs)("span",{className:i().importantValue,children:[V.landingPerformance.slopeCorrectedDistance.toFixed(2),"m"]})]})]}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"Step 5: Final Safety Factor"}),(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsxs)("span",{className:i().windValue,children:[V.landingPerformance.slopeCorrectedDistance.toFixed(2),"m"]})," \xd7 1.67 =",(0,t.jsxs)("span",{className:i().importantValue,children:[V.landingPerformance.finalLandingDistance.toFixed(2),"m LDR"]})]})]}),(0,t.jsx)(eN.Z,{}),(0,t.jsxs)("div",{className:i().calculationStep,children:[(0,t.jsx)("h4",{className:i().calculationHeading,children:"LDA Check"}),(0,t.jsxs)("p",{className:"text-sm",children:[Number(F.departure.lda)>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:i().importantValue,children:[formatCalculation(F.departure.lda),"m"]})," ",135===F.part?(0,t.jsxs)(t.Fragment,{children:["\xd7 0.85 = ",(0,t.jsxs)("span",{className:i().importantValue,children:[formatCalculation(.85*Number(F.departure.lda)),"m"]})]}):""]}):"N/A",(0,t.jsx)("span",{className:"font-medium mx-2",children:(null==V?void 0:null===(b=V.landingPerformance)||void 0===b?void 0:b.isFeasible)?" ≥ ":" < "}),(0,t.jsxs)("span",{className:i().importantValue,children:[(null==V?void 0:V.landingPerformance)?formatCalculation(V.landingPerformance.finalLandingDistance):"N/A","m Required"]})]})]})]})})]})]})})]}),(0,t.jsx)("div",{className:i().buttonContainer,children:(0,t.jsx)(m.z,{onClick:handleCalculate,disabled:D||!!R,className:i().calculateButton,variant:"default",size:"lg",children:D?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Calculating..."})]}):Object.keys(k).length>0?"Fix Errors to Continue":"Calculate Performance"})}),R&&(0,t.jsxs)(K.bZ,{variant:"destructive",className:i().errorAlert,children:[(0,t.jsx)(K.Cd,{children:"Calculation Error"}),(0,t.jsxs)(K.X,{className:"space-y-2",children:[(0,t.jsx)("p",{children:R.message||"An unexpected error occurred"}),E&&(0,t.jsxs)(m.z,{onClick:A,variant:"outline",children:["Retry ",E.charAt(0).toUpperCase()+E.slice(1)," Calculation"]})]})]}),Object.keys(k).length>0&&(0,t.jsxs)(K.bZ,{variant:"destructive",className:i().errorAlert,children:[(0,t.jsx)(J.Z,{className:"h-4 w-4"}),(0,t.jsx)(K.Cd,{children:"Validation Errors"}),(0,t.jsx)(K.X,{children:(0,t.jsx)("ul",{className:i().errorList,children:Object.values(k).map((e,a)=>(0,t.jsx)("li",{className:i().errorListItem,children:String(e)},a))})})]})]})})}},4559:function(e){e.exports={performanceContainer:"styles_performanceContainer__UHCi5",tabsWrapper:"styles_tabsWrapper___rmu9",tabsList:"styles_tabsList__Ky24q",dark:"styles_dark__zAhgg",coloredTabTrigger:"styles_coloredTabTrigger__1RVX0",inactiveTabTrigger:"styles_inactiveTabTrigger__Ew0tK",partSelection:"styles_partSelection__Y4Qjw",inputSection:"styles_inputSection__qYYD6",fadeIn:"styles_fadeIn__wwfya",badgeContainer:"styles_badgeContainer__eOP5s",gridLayout:"styles_gridLayout___e_Bb",calculationCard:"styles_calculationCard__LRQCd",calculationHeading:"styles_calculationHeading__jXlA8",calculationText:"styles_calculationText__D6Pug",windComponents:"styles_windComponents__FeSOC",calculationLabel:"styles_calculationLabel__J109b",calculationValue:"styles_calculationValue__fwex0",importantValue:"styles_importantValue__MMMjS",windValue:"styles_windValue__vT43c",calculationStep:"styles_calculationStep__fObJz",separator:"styles_separator__wPohw",buttonContainer:"styles_buttonContainer__MzAc9",calculateButton:"styles_calculateButton__HygoQ",errorAlert:"styles_errorAlert__6Yzjb",errorList:"styles_errorList__Q0lkC",errorListItem:"styles_errorListItem__4u70x",numericValue:"styles_numericValue__AYNfL",resultAlert:"styles_resultAlert__RuXHJ",formField:"styles_formField__jbRxc",formLabel:"styles_formLabel__uTbLf",formDescription:"styles_formDescription__s3Wbt",cardSection:"styles_cardSection__rxcyI",cardTitle:"styles_cardTitle__Vh2De",cardContent:"styles_cardContent__bXGJA",statusBadge:"styles_statusBadge__kfhyF",success:"styles_success__htnpV",warning:"styles_warning__29So_",error:"styles_error__h4KbX",progressSection:"styles_progressSection__r_R3y",progressLabel:"styles_progressLabel__f_krd",progressValue:"styles_progressValue__SQbxn"}}},function(e){e.O(0,[695,569,971,472,744],function(){return e(e.s=3317)}),_N_E=e.O()}]);